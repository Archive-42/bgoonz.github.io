<!DOCTYPE html>
<!-- saved from url=(0048)https://mozilla.github.io/pdf.js/web/viewer.html -->
<html dir="ltr" mozdisallowselectionprint="" style="--loadingBar-end-offset:17px;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="google" content="notranslate">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>compressed.tracemonkey-pldi-09.pdf</title>


    <link rel="stylesheet" href="./compressed.tracemonkey-pldi-09.pdf_files/viewer.css">


<!-- This snippet is used in production (included from viewer.html) -->
<link rel="resource" type="application/l10n" href="https://mozilla.github.io/pdf.js/web/locale/locale.properties">
<script src="./compressed.tracemonkey-pldi-09.pdf_files/pdf.js.download"></script>


  <script src="./compressed.tracemonkey-pldi-09.pdf_files/viewer.js.download"></script>

  </head>

  <body tabindex="1">
    <div id="outerContainer">

      <div id="sidebarContainer">
        <div id="toolbarSidebar">
          <div id="toolbarSidebarLeft">
            <div class="splitToolbarButton toggled">
              <button id="viewThumbnail" class="toolbarButton toggled" title="Show Thumbnails" tabindex="2" data-l10n-id="thumbs">
                 <span data-l10n-id="thumbs_label">Thumbnails</span>
              </button>
              <button id="viewOutline" class="toolbarButton" title="Show Document Outline (double-click to expand/collapse all items)" tabindex="3" data-l10n-id="document_outline" disabled="">
                 <span data-l10n-id="document_outline_label">Document Outline</span>
              </button>
              <button id="viewAttachments" class="toolbarButton" title="Show Attachments" tabindex="4" data-l10n-id="attachments" disabled="">
                 <span data-l10n-id="attachments_label">Attachments</span>
              </button>
              <button id="viewLayers" class="toolbarButton" title="Show Layers (double-click to reset all layers to the default state)" tabindex="5" data-l10n-id="layers" disabled="">
                 <span data-l10n-id="layers_label">Layers</span>
              </button>
            </div>
          </div>

          <div id="toolbarSidebarRight">
            <div id="outlineOptionsContainer" class="hidden">
              <div class="verticalToolbarSeparator"></div>

              <button id="currentOutlineItem" class="toolbarButton" disabled="disabled" title="Find Current Outline Item" tabindex="6" data-l10n-id="current_outline_item">
                <span data-l10n-id="current_outline_item_label">Current Outline Item</span>
              </button>
            </div>
          </div>
        </div>
        <div id="sidebarContent">
          <div id="thumbnailView"><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=1" title="Page 1"><div class="thumbnail selected" data-page-number="1"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=2" title="Page 2"><div class="thumbnail" data-page-number="2"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=3" title="Page 3"><div class="thumbnail" data-page-number="3"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=4" title="Page 4"><div class="thumbnail" data-page-number="4"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=5" title="Page 5"><div class="thumbnail" data-page-number="5"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=6" title="Page 6"><div class="thumbnail" data-page-number="6"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=7" title="Page 7"><div class="thumbnail" data-page-number="7"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=8" title="Page 8"><div class="thumbnail" data-page-number="8"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=9" title="Page 9"><div class="thumbnail" data-page-number="9"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=10" title="Page 10"><div class="thumbnail" data-page-number="10"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=11" title="Page 11"><div class="thumbnail" data-page-number="11"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=12" title="Page 12"><div class="thumbnail" data-page-number="12"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=13" title="Page 13"><div class="thumbnail" data-page-number="13"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=14" title="Page 14"><div class="thumbnail" data-page-number="14"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a></div>
          <div id="outlineView" class="hidden"></div>
          <div id="attachmentsView" class="hidden"></div>
          <div id="layersView" class="hidden"></div>
        </div>
        <div id="sidebarResizer"></div>
      </div>  <!-- sidebarContainer -->

      <div id="mainContainer">
        <div class="findbar hidden doorHanger" id="findbar">
          <div id="findbarInputContainer">
            <input id="findInput" class="toolbarField" title="Find" placeholder="Find in documentâ€¦" tabindex="91" data-l10n-id="find_input">
            <div class="splitToolbarButton">
              <button id="findPrevious" class="toolbarButton findPrevious" title="Find the previous occurrence of the phrase" tabindex="92" data-l10n-id="find_previous">
                <span data-l10n-id="find_previous_label">Previous</span>
              </button>
              <div class="splitToolbarButtonSeparator"></div>
              <button id="findNext" class="toolbarButton findNext" title="Find the next occurrence of the phrase" tabindex="93" data-l10n-id="find_next">
                <span data-l10n-id="find_next_label">Next</span>
              </button>
            </div>
          </div>

          <div id="findbarOptionsOneContainer">
            <input type="checkbox" id="findHighlightAll" class="toolbarField" tabindex="94">
            <label for="findHighlightAll" class="toolbarLabel" data-l10n-id="find_highlight">Highlight all</label>
            <input type="checkbox" id="findMatchCase" class="toolbarField" tabindex="95">
            <label for="findMatchCase" class="toolbarLabel" data-l10n-id="find_match_case_label">Match case</label>
          </div>
          <div id="findbarOptionsTwoContainer">
            <input type="checkbox" id="findEntireWord" class="toolbarField" tabindex="96">
            <label for="findEntireWord" class="toolbarLabel" data-l10n-id="find_entire_word_label">Whole words</label>
            <span id="findResultsCount" class="toolbarLabel hidden"></span>
          </div>

          <div id="findbarMessageContainer">
            <span id="findMsg" class="toolbarLabel"></span>
          </div>
        </div>  <!-- findbar -->

        <div id="secondaryToolbar" class="secondaryToolbar hidden doorHangerRight">
          <div id="secondaryToolbarButtonContainer">
            <button id="secondaryPresentationMode" class="secondaryToolbarButton presentationMode visibleLargeView" title="Switch to Presentation Mode" tabindex="51" data-l10n-id="presentation_mode">
              <span data-l10n-id="presentation_mode_label">Presentation Mode</span>
            </button>

            <button id="secondaryOpenFile" class="secondaryToolbarButton openFile visibleLargeView" title="Open File" tabindex="52" data-l10n-id="open_file">
              <span data-l10n-id="open_file_label">Open</span>
            </button>

            <button id="secondaryPrint" class="secondaryToolbarButton print visibleMediumView" title="Print" tabindex="53" data-l10n-id="print">
              <span data-l10n-id="print_label">Print</span>
            </button>

            <button id="secondaryDownload" class="secondaryToolbarButton download visibleMediumView" title="Download" tabindex="54" data-l10n-id="download">
              <span data-l10n-id="download_label">Download</span>
            </button>

            <a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=1&amp;zoom=auto,-116,798" id="secondaryViewBookmark" class="secondaryToolbarButton bookmark visibleSmallView" title="Current view (copy or open in new window)" tabindex="55" data-l10n-id="bookmark">
              <span data-l10n-id="bookmark_label">Current View</span>
            </a>

            <div class="horizontalToolbarSeparator visibleLargeView"></div>

            <button id="firstPage" class="secondaryToolbarButton firstPage" title="Go to First Page" tabindex="56" data-l10n-id="first_page" disabled="">
              <span data-l10n-id="first_page_label">Go to First Page</span>
            </button>
            <button id="lastPage" class="secondaryToolbarButton lastPage" title="Go to Last Page" tabindex="57" data-l10n-id="last_page">
              <span data-l10n-id="last_page_label">Go to Last Page</span>
            </button>

            <div class="horizontalToolbarSeparator"></div>

            <button id="pageRotateCw" class="secondaryToolbarButton rotateCw" title="Rotate Clockwise" tabindex="58" data-l10n-id="page_rotate_cw">
              <span data-l10n-id="page_rotate_cw_label">Rotate Clockwise</span>
            </button>
            <button id="pageRotateCcw" class="secondaryToolbarButton rotateCcw" title="Rotate Counterclockwise" tabindex="59" data-l10n-id="page_rotate_ccw">
              <span data-l10n-id="page_rotate_ccw_label">Rotate Counterclockwise</span>
            </button>

            <div class="horizontalToolbarSeparator"></div>

            <button id="cursorSelectTool" class="secondaryToolbarButton selectTool toggled" title="Enable Text Selection Tool" tabindex="60" data-l10n-id="cursor_text_select_tool">
              <span data-l10n-id="cursor_text_select_tool_label">Text Selection Tool</span>
            </button>
            <button id="cursorHandTool" class="secondaryToolbarButton handTool" title="Enable Hand Tool" tabindex="61" data-l10n-id="cursor_hand_tool">
              <span data-l10n-id="cursor_hand_tool_label">Hand Tool</span>
            </button>

            <div class="horizontalToolbarSeparator"></div>

            <button id="scrollVertical" class="secondaryToolbarButton scrollModeButtons scrollVertical toggled" title="Use Vertical Scrolling" tabindex="62" data-l10n-id="scroll_vertical">
              <span data-l10n-id="scroll_vertical_label">Vertical Scrolling</span>
            </button>
            <button id="scrollHorizontal" class="secondaryToolbarButton scrollModeButtons scrollHorizontal" title="Use Horizontal Scrolling" tabindex="63" data-l10n-id="scroll_horizontal">
              <span data-l10n-id="scroll_horizontal_label">Horizontal Scrolling</span>
            </button>
            <button id="scrollWrapped" class="secondaryToolbarButton scrollModeButtons scrollWrapped" title="Use Wrapped Scrolling" tabindex="64" data-l10n-id="scroll_wrapped">
              <span data-l10n-id="scroll_wrapped_label">Wrapped Scrolling</span>
            </button>

            <div class="horizontalToolbarSeparator scrollModeButtons"></div>

            <button id="spreadNone" class="secondaryToolbarButton spreadModeButtons spreadNone toggled" title="Do not join page spreads" tabindex="65" data-l10n-id="spread_none">
              <span data-l10n-id="spread_none_label">No Spreads</span>
            </button>
            <button id="spreadOdd" class="secondaryToolbarButton spreadModeButtons spreadOdd" title="Join page spreads starting with odd-numbered pages" tabindex="66" data-l10n-id="spread_odd">
              <span data-l10n-id="spread_odd_label">Odd Spreads</span>
            </button>
            <button id="spreadEven" class="secondaryToolbarButton spreadModeButtons spreadEven" title="Join page spreads starting with even-numbered pages" tabindex="67" data-l10n-id="spread_even">
              <span data-l10n-id="spread_even_label">Even Spreads</span>
            </button>

            <div class="horizontalToolbarSeparator spreadModeButtons"></div>

            <button id="documentProperties" class="secondaryToolbarButton documentProperties" title="Document Propertiesâ€¦" tabindex="68" data-l10n-id="document_properties">
              <span data-l10n-id="document_properties_label">Document Propertiesâ€¦</span>
            </button>
          </div>
        </div>  <!-- secondaryToolbar -->

        <div class="toolbar">
          <div id="toolbarContainer">
            <div id="toolbarViewer">
              <div id="toolbarViewerLeft">
                <button id="sidebarToggle" class="toolbarButton" title="Toggle Sidebar" tabindex="11" data-l10n-id="toggle_sidebar">
                  <span data-l10n-id="toggle_sidebar_label">Toggle Sidebar</span>
                </button>
                <div class="toolbarButtonSpacer"></div>
                <button id="viewFind" class="toolbarButton" title="Find in Document" tabindex="12" data-l10n-id="findbar">
                  <span data-l10n-id="findbar_label">Find</span>
                </button>
                <div class="splitToolbarButton hiddenSmallView">
                  <button class="toolbarButton pageUp" title="Previous Page" id="previous" tabindex="13" data-l10n-id="previous" disabled="">
                    <span data-l10n-id="previous_label">Previous</span>
                  </button>
                  <div class="splitToolbarButtonSeparator"></div>
                  <button class="toolbarButton pageDown" title="Next Page" id="next" tabindex="14" data-l10n-id="next">
                    <span data-l10n-id="next_label">Next</span>
                  </button>
                </div>
                <input type="number" id="pageNumber" class="toolbarField pageNumber" title="Page" value="1" size="4" min="1" tabindex="15" data-l10n-id="page" autocomplete="off" max="14">
                <span id="numPages" class="toolbarLabel">of 14</span>
              </div>
              <div id="toolbarViewerRight">
                <button id="presentationMode" class="toolbarButton presentationMode hiddenLargeView" title="Switch to Presentation Mode" tabindex="31" data-l10n-id="presentation_mode">
                  <span data-l10n-id="presentation_mode_label">Presentation Mode</span>
                </button>

                <button id="openFile" class="toolbarButton openFile hiddenLargeView" title="Open File" tabindex="32" data-l10n-id="open_file">
                  <span data-l10n-id="open_file_label">Open</span>
                </button>

                <button id="print" class="toolbarButton print hiddenMediumView" title="Print" tabindex="33" data-l10n-id="print">
                  <span data-l10n-id="print_label">Print</span>
                </button>

                <button id="download" class="toolbarButton download hiddenMediumView" title="Download" tabindex="34" data-l10n-id="download">
                  <span data-l10n-id="download_label">Download</span>
                </button>
                <a href="https://mozilla.github.io/pdf.js/web/viewer.html#page=1&amp;zoom=auto,-116,798" id="viewBookmark" class="toolbarButton bookmark hiddenSmallView" title="Current view (copy or open in new window)" tabindex="35" data-l10n-id="bookmark">
                  <span data-l10n-id="bookmark_label">Current View</span>
                </a>

                <div class="verticalToolbarSeparator hiddenSmallView"></div>

                <button id="secondaryToolbarToggle" class="toolbarButton" title="Tools" tabindex="36" data-l10n-id="tools">
                  <span data-l10n-id="tools_label">Tools</span>
                </button>
              </div>
              <div id="toolbarViewerMiddle">
                <div class="splitToolbarButton">
                  <button id="zoomOut" class="toolbarButton zoomOut" title="Zoom Out" tabindex="21" data-l10n-id="zoom_out">
                    <span data-l10n-id="zoom_out_label">Zoom Out</span>
                  </button>
                  <div class="splitToolbarButtonSeparator"></div>
                  <button id="zoomIn" class="toolbarButton zoomIn" title="Zoom In" tabindex="22" data-l10n-id="zoom_in">
                    <span data-l10n-id="zoom_in_label">Zoom In</span>
                   </button>
                </div>
                <span id="scaleSelectContainer" class="dropdownToolbarButton">
                  <select id="scaleSelect" title="Zoom" tabindex="23" data-l10n-id="zoom">
                    <option id="pageAutoOption" title="" value="auto" selected="selected" data-l10n-id="page_scale_auto">Automatic Zoom</option>
                    <option id="pageActualOption" title="" value="page-actual" data-l10n-id="page_scale_actual">Actual Size</option>
                    <option id="pageFitOption" title="" value="page-fit" data-l10n-id="page_scale_fit">Page Fit</option>
                    <option id="pageWidthOption" title="" value="page-width" data-l10n-id="page_scale_width">Page Width</option>
                    <option id="customScaleOption" title="" value="custom" disabled="disabled" hidden="true"></option>
                    <option title="" value="0.5" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 50 }">50%</option>
                    <option title="" value="0.75" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 75 }">75%</option>
                    <option title="" value="1" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 100 }">100%</option>
                    <option title="" value="1.25" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 125 }">125%</option>
                    <option title="" value="1.5" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 150 }">150%</option>
                    <option title="" value="2" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 200 }">200%</option>
                    <option title="" value="3" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 300 }">300%</option>
                    <option title="" value="4" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 400 }">400%</option>
                  </select>
                </span>
              </div>
            </div>
            <div id="loadingBar" class="hidden">
              <div class="progress" style="height: 100%; width: 100%;">
                <div class="glimmer">
                </div>
              </div>
            </div>
          </div>
        </div>

        <menu type="context" id="viewerContextMenu">
          <menuitem id="contextFirstPage" label="First Page" data-l10n-id="first_page" title="Go to First Page"></menuitem>
          <menuitem id="contextLastPage" label="Last Page" data-l10n-id="last_page" title="Go to Last Page"></menuitem>
          <menuitem id="contextPageRotateCw" label="Rotate Clockwise" data-l10n-id="page_rotate_cw" title="Rotate Clockwise"></menuitem>
          <menuitem id="contextPageRotateCcw" label="Rotate Counter-Clockwise" data-l10n-id="page_rotate_ccw" title="Rotate Counterclockwise"></menuitem>
        </menu>

        <div id="viewerContainer" tabindex="0">
          <div id="viewer" class="pdfViewer"><div class="page" data-page-number="1" style="width: 1019px; height: 1319px;" data-loaded="true"><div class="canvasWrapper" style="width: 1019px; height: 1319px;"><canvas width="1380" height="1784" aria-label="Page 1" style="width: 1020px; height: 1320px;"></canvas></div><div class="textLayer" style="width: 1019px; height: 1319px;"><span style="left: 134.193px; top: 131.593px; font-size: 29.888px; font-family: sans-serif; transform: scaleX(0.970798);">Trace-based Just-in-Time Type Specialization for Dynamic</span><span style="left: 439.51px; top: 164.802px; font-size: 29.888px; font-family: sans-serif; transform: scaleX(0.931375);">Languages</span><span style="left: 200.537px; top: 232.817px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.927263);">Andreas Gal</span><span style="left: 292.336px; top: 228.64px; font-size: 13.2835px; font-family: monospace;">âˆ—</span><span style="left: 300.223px; top: 229.384px; font-size: 13.2835px; font-family: sans-serif;">+</span><span style="left: 312.03px; top: 232.817px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.924232);">, Brendan Eich</span><span style="left: 421.089px; top: 228.64px; font-size: 13.2835px; font-family: monospace;">âˆ—</span><span style="left: 428.976px; top: 232.817px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.928684);">, Mike Shaver</span><span style="left: 531.131px; top: 228.64px; font-size: 13.2835px; font-family: monospace;">âˆ—</span><span style="left: 539.018px; top: 232.817px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.941505);">, David Anderson</span><span style="left: 668.003px; top: 228.64px; font-size: 13.2835px; font-family: monospace;">âˆ—</span><span style="left: 675.89px; top: 232.817px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.955087);">, David Mandelin</span><span style="left: 803.871px; top: 228.64px; font-size: 13.2835px; font-family: monospace;">âˆ—</span><span style="left: 811.758px; top: 232.817px; font-size: 18.2648px; font-family: sans-serif;">,</span><span style="left: 155.903px; top: 254.402px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.937175);">Mohammad R. Haghighat</span><span style="left: 346.148px; top: 250.969px; font-size: 13.2835px; font-family: sans-serif;">$</span><span style="left: 354.035px; top: 254.402px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.938592);">, Blake Kaplan</span><span style="left: 462.911px; top: 250.225px; font-size: 13.2835px; font-family: monospace;">âˆ—</span><span style="left: 470.798px; top: 254.402px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.91901);">, Graydon Hoare</span><span style="left: 593.025px; top: 250.225px; font-size: 13.2835px; font-family: monospace;">âˆ—</span><span style="left: 600.913px; top: 254.402px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.940487);">, Boris Zbarsky</span><span style="left: 713.77px; top: 250.225px; font-size: 13.2835px; font-family: monospace;">âˆ—</span><span style="left: 721.657px; top: 254.402px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.912585);">, Jason Orendorff</span><span style="left: 848.506px; top: 250.225px; font-size: 13.2835px; font-family: monospace;">âˆ—</span><span style="left: 856.393px; top: 254.402px; font-size: 18.2648px; font-family: sans-serif;">,</span><span style="left: 113.792px; top: 275.988px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.875494);">Jesse Ruderman</span><span style="left: 231.982px; top: 271.811px; font-size: 13.2835px; font-family: monospace;">âˆ—</span><span style="left: 239.869px; top: 275.988px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.963679);">, Edwin Smith</span><span style="left: 344.909px; top: 272.555px; font-size: 13.2835px; font-family: sans-serif;">#</span><span style="left: 357.501px; top: 275.988px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.954265);">, Rick Reitmaier</span><span style="left: 477.737px; top: 272.555px; font-size: 13.2835px; font-family: sans-serif;">#</span><span style="left: 490.329px; top: 275.988px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.935702);">, Michael Bebenita</span><span style="left: 628.811px; top: 272.555px; font-size: 13.2835px; font-family: sans-serif;">+</span><span style="left: 640.619px; top: 275.988px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.910697);">, Mason Chang</span><span style="left: 751.723px; top: 272.555px; font-size: 13.2835px; font-family: sans-serif; transform: scaleX(1.571);">+#</span><span style="left: 776.122px; top: 275.988px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(0.943783);">, Michael Franz</span><span style="left: 891.263px; top: 272.555px; font-size: 13.2835px; font-family: sans-serif;">+</span><span style="left: 443.609px; top: 303.146px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.987509);">Mozilla Corporation</span><span style="left: 566.058px; top: 299.458px; font-size: 9.96267px; font-family: monospace;">âˆ—</span><span style="left: 151.627px; top: 318.675px; font-size: 14.944px; font-family: sans-serif;">{</span><span style="left: 159.307px; top: 320.752px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.980676);">gal,brendan,shaver,danderson,dmandelin,mrbkap,graydon,bz,jorendorff,jruderman</span><span style="left: 763.409px; top: 318.675px; font-size: 14.944px; font-family: sans-serif;">}</span><span style="left: 771.089px; top: 320.752px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">@mozilla.com</span><span style="left: 445.135px; top: 346.716px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.957034);">Adobe Corporation</span><span style="left: 560.935px; top: 343.586px; font-size: 9.96267px; font-family: sans-serif;">#</span><span style="left: 394.837px; top: 362.245px; font-size: 14.944px; font-family: sans-serif;">{</span><span style="left: 402.517px; top: 364.322px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">edwsmith,rreitmai</span><span style="left: 535.89px; top: 362.245px; font-size: 14.944px; font-family: sans-serif;">}</span><span style="left: 543.57px; top: 364.322px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">@adobe.com</span><span style="left: 453.296px; top: 390.839px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.975026);">Intel Corporation</span><span style="left: 556.647px; top: 387.709px; font-size: 9.96267px; font-family: sans-serif;">$</span><span style="left: 383.069px; top: 406.368px; font-size: 14.944px; font-family: sans-serif;">{</span><span style="left: 390.749px; top: 408.445px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">mohammad.r.haghighat</span><span style="left: 547.658px; top: 406.368px; font-size: 14.944px; font-family: sans-serif;">}</span><span style="left: 555.338px; top: 408.445px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">@intel.com</span><span style="left: 410.273px; top: 433.856px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.00093);">University of California, Irvine</span><span style="left: 596.442px; top: 430.725px; font-size: 9.96267px; font-family: sans-serif;">+</span><span style="left: 386.992px; top: 449.384px; font-size: 14.944px; font-family: sans-serif;">{</span><span style="left: 394.671px; top: 451.461px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">mbebenit,changm,franz</span><span style="left: 559.427px; top: 449.384px; font-size: 14.944px; font-family: sans-serif;">}</span><span style="left: 567.106px; top: 451.461px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">@uci.edu</span><span style="left: 90px; top: 560.899px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(1.04559);">Abstract</span><span style="left: 90px; top: 586.616px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.942108);">Dynamic languages such as JavaScript are more difficult to com-</span><span style="left: 90px; top: 603.221px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.94434);">pile than statically typed ones. Since no concrete type information</span><span style="left: 90px; top: 619.825px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.911926);">is available, traditional compilers need to emit generic code that can</span><span style="left: 90px; top: 636.429px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.91823);">handle all possible type combinations at runtime. We present an al-</span><span style="left: 90px; top: 653.034px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.967261);">ternative compilation technique for dynamically-typed languages</span><span style="left: 90px; top: 669.638px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.937674);">that identifies frequently executed loop traces at run-time and then</span><span style="left: 90px; top: 686.243px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.964919);">generates machine code on the fly that is specialized for the ac-</span><span style="left: 90px; top: 702.847px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.960269);">tual dynamic types occurring on each path through the loop. Our</span><span style="left: 90px; top: 719.451px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.92035);">method provides cheap inter-procedural type specialization, and an</span><span style="left: 90px; top: 736.056px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.953377);">elegant and efficient way of incrementally compiling lazily discov-</span><span style="left: 90px; top: 752.66px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.92035);">ered alternative paths through nested loops. We have implemented</span><span style="left: 90px; top: 769.265px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.933283);">a dynamic compiler for JavaScript based on our technique and we</span><span style="left: 90px; top: 785.869px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.939886);">have measured speedups of 10x and more for certain benchmark</span><span style="left: 90px; top: 802.473px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.898201);">programs.</span><span style="left: 90px; top: 828.331px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.959637);">Categories and Subject Descriptors</span><span style="left: 327.581px; top: 828.48px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.02419);">D.3.4 [</span><span style="left: 371.618px; top: 828.63px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.958131);">Programming Lan-</span><span style="left: 90px; top: 845.234px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.875781);">guages</span><span style="left: 132.037px; top: 845.085px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.892171);">]: Processors â€”</span><span style="left: 231.234px; top: 845.234px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.929622);">Incremental compilers, code generation</span><span style="left: 469.214px; top: 845.085px; font-size: 14.944px; font-family: sans-serif;">.</span><span style="left: 90px; top: 870.942px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.96202);">General Terms</span><span style="left: 197.293px; top: 871.091px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.942439);">Design, Experimentation, Measurement, Perfor-</span><span style="left: 90px; top: 887.696px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.872242);">mance.</span><span style="left: 90px; top: 913.553px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.910434);">Keywords</span><span style="left: 164.121px; top: 913.703px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.929002);">JavaScript, just-in-time compilation, trace trees.</span><span style="left: 90px; top: 948.862px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(1.1109);">1.  Introduction</span><span style="left: 90px; top: 974.728px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.91784);">Dynamic languages</span><span style="left: 211.707px; top: 974.579px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.898678);">such as JavaScript, Python, and Ruby, are pop-</span><span style="left: 90px; top: 991.183px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.905708);">ular since they are expressive, accessible to non-experts, and make</span><span style="left: 90px; top: 1007.79px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.928932);">deployment as easy as distributing a source file. They are used for</span><span style="left: 90px; top: 1024.39px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.962589);">small scripts as well as for complex applications. JavaScript, for</span><span style="left: 90px; top: 1041px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.931102);">example, is the de facto standard for client-side web programming</span><span style="left: 90px; top: 1112.51px; font-size: 11.623px; font-family: sans-serif; transform: scaleX(0.897536);">Permission to make digital or hard copies of all or part of this work for personal or</span><span style="left: 90px; top: 1125.79px; font-size: 11.623px; font-family: sans-serif; transform: scaleX(0.853332);">classroom use is granted without fee provided that copies are not made or distributed</span><span style="left: 90px; top: 1139.08px; font-size: 11.623px; font-family: sans-serif; transform: scaleX(0.857003);">for profit or commercial advantage and that copies bear this notice and the full citation</span><span style="left: 90px; top: 1152.36px; font-size: 11.623px; font-family: sans-serif; transform: scaleX(0.868205);">on the first page. To copy otherwise, to republish, to post on servers or to redistribute</span><span style="left: 90px; top: 1165.64px; font-size: 11.623px; font-family: sans-serif; transform: scaleX(0.847114);">to lists, requires prior specific permission and/or a fee.</span><span style="left: 90px; top: 1182.25px; font-size: 11.623px; font-family: sans-serif; transform: scaleX(0.940968);">PLDIâ€™09,</span><span style="left: 146.046px; top: 1182.25px; font-size: 11.623px; font-family: sans-serif; transform: scaleX(0.862019);">June 15â€“20, 2009, Dublin, Ireland.</span><span style="left: 90px; top: 1195.53px; font-size: 11.623px; font-family: sans-serif; transform: scaleX(0.904359);">Copyright</span><span style="left: 143.971px; top: 1195.18px; font-size: 11.623px; font-family: sans-serif;">c</span><span style="left: 139.932px; top: 1194.69px; font-size: 11.623px; font-family: monospace;">Â©</span><span style="left: 156.076px; top: 1195.53px; font-size: 11.623px; font-family: sans-serif; transform: scaleX(0.867104);">2009 ACM 978-1-60558-392-1/09/06. . . $5.00</span><span style="left: 528.356px; top: 563.37px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.94434);">and is used for the application logic of browser-based productivity</span><span style="left: 528.356px; top: 579.974px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.964919);">applications such as Google Mail, Google Docs and Zimbra Col-</span><span style="left: 528.356px; top: 596.579px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.00381);">laboration Suite. In this domain, in order to provide a fluid user</span><span style="left: 528.356px; top: 613.183px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.91823);">experience and enable a new generation of applications, virtual ma-</span><span style="left: 528.356px; top: 629.788px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.924062);">chines must provide a low startup time and high performance.</span><span style="left: 548.282px; top: 646.392px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.960854);">Compilers for statically typed languages rely on type informa-</span><span style="left: 528.356px; top: 662.996px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.926771);">tion to generate efficient machine code. In a dynamically typed pro-</span><span style="left: 528.356px; top: 679.601px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.942108);">gramming language such as JavaScript, the types of expressions</span><span style="left: 528.356px; top: 696.205px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.955663);">may vary at runtime. This means that the compiler can no longer</span><span style="left: 528.356px; top: 712.81px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.942108);">easily transform operations into machine instructions that operate</span><span style="left: 528.356px; top: 729.414px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.946583);">on one specific type. Without exact type information, the compiler</span><span style="left: 528.356px; top: 746.018px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.94434);">must emit slower generalized machine code that can deal with all</span><span style="left: 528.356px; top: 762.623px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.957961);">potential type combinations. While compile-time static type infer-</span><span style="left: 528.356px; top: 779.227px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.996279);">ence might be able to gather type information to generate opti-</span><span style="left: 528.356px; top: 795.832px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.955663);">mized machine code, traditional static analysis is very expensive</span><span style="left: 528.356px; top: 812.436px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.948837);">and hence not well suited for the highly interactive environment of</span><span style="left: 528.356px; top: 829.04px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.905848);">a web browser.</span><span style="left: 548.282px; top: 845.645px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.958421);">We present a trace-based compilation technique for dynamic</span><span style="left: 528.356px; top: 862.249px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.937674);">languages that reconciles speed of compilation with excellent per-</span><span style="left: 528.356px; top: 878.854px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.889535);">formance of the generated machine code. Our system uses a mixed-</span><span style="left: 528.356px; top: 895.458px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.905708);">mode execution approach: the system starts running JavaScript in a</span><span style="left: 528.356px; top: 912.062px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.926771);">fast-starting bytecode interpreter. As the program runs, the system</span><span style="left: 528.356px; top: 928.667px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.961397);">identifies</span><span style="left: 589.498px; top: 928.816px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.954922);">hot</span><span style="left: 615.209px; top: 928.667px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.935907);">(frequently executed) bytecode sequences, records</span><span style="left: 528.356px; top: 945.271px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.955663);">them, and compiles them to fast native code. We call such a se-</span><span style="left: 528.356px; top: 961.876px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.918429);">quence of instructions a</span><span style="left: 674.447px; top: 962.025px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.923811);">trace</span><span style="left: 704.932px; top: 961.876px; font-size: 14.944px; font-family: sans-serif;">.</span><span style="left: 548.282px; top: 978.48px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.970709);">Unlike method-based dynamic compilers, our dynamic com-</span><span style="left: 528.356px; top: 995.084px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.996279);">piler operates at the granularity of individual loops. This design</span><span style="left: 528.356px; top: 1011.69px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.957961);">choice is based on the expectation that programs spend most of</span><span style="left: 528.356px; top: 1028.29px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.969615);">their time in hot loops. Even in dynamically typed languages, we</span><span style="left: 528.356px; top: 1044.9px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.916486);">expect hot loops to be mostly</span><span style="left: 704.882px; top: 1045.05px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.923581);">type-stable</span><span style="left: 770.455px; top: 1044.9px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.914643);">, meaning that the types of</span><span style="left: 528.356px; top: 1061.5px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.922481);">values are invariant. (12) For example, we would expect loop coun-</span><span style="left: 528.356px; top: 1078.11px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.922481);">ters that start as integers to remain integers for all iterations. When</span><span style="left: 528.356px; top: 1094.71px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.933283);">both of these expectations hold, a trace-based compiler can cover</span><span style="left: 528.356px; top: 1111.32px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.926771);">the program execution with a small number of type-specialized, ef-</span><span style="left: 528.356px; top: 1127.92px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.941659);">ficiently compiled traces.</span><span style="left: 548.282px; top: 1144.52px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.927883);">Each compiled trace covers one path through the program with</span><span style="left: 528.356px; top: 1161.13px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.91823);">one mapping of values to types. When the VM executes a compiled</span><span style="left: 528.356px; top: 1177.73px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.01921);">trace, it cannot guarantee that the same path will be followed</span><span style="left: 528.356px; top: 1194.34px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.988863);">or that the same types will occur in subsequent loop iterations.</span><div class="endOfContent"></div></div></div><div class="page" data-page-number="2" style="width: 1019px; height: 1319px;" data-loaded="true"><div class="canvasWrapper" style="width: 1019px; height: 1319px;"><canvas width="1380" height="1784" aria-label="Page 2" style="width: 1020px; height: 1320px;"></canvas></div><div class="textLayer" style="width: 1019px; height: 1319px;"><span style="left: 90px; top: 123.151px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.915938);">Hence, recording and compiling a trace</span><span style="left: 325.768px; top: 123.301px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.876855);">speculates</span><span style="left: 391.147px; top: 123.151px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.901483);">that the path and</span><span style="left: 90px; top: 139.756px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.931102);">typing will be exactly as they were during recording for subsequent</span><span style="left: 90px; top: 156.36px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.954074);">iterations of the loop.</span><span style="left: 109.925px; top: 172.965px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.942979);">Every compiled trace contains all the</span><span style="left: 338.617px; top: 173.114px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.910256);">guards</span><span style="left: 383.838px; top: 172.965px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.918138);">(checks) required</span><span style="left: 90px; top: 189.569px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.01402);">to validate the speculation. If one of the guards fails (if control</span><span style="left: 90px; top: 206.173px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.996279);">flow is different, or a value of a different type is generated), the</span><span style="left: 90px; top: 222.778px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.988914);">trace exits. If an exit becomes hot, the VM can record a</span><span style="left: 446.618px; top: 222.927px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.930845);">branch</span><span style="left: 90px; top: 239.532px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.923811);">trace</span><span style="left: 124.159px; top: 239.382px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.948827);">starting at the exit to cover the new path. In this way, the VM</span><span style="left: 90px; top: 255.987px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.876634);">records a</span><span style="left: 148.087px; top: 256.136px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.917851);">trace tree</span><span style="left: 208.728px; top: 255.987px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.941034);">covering all the hot paths through the loop.</span><span style="left: 109.925px; top: 272.591px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.00418);">Nested loops can be difficult to optimize for tracing VMs. In</span><span style="left: 90px; top: 289.195px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.930264);">a na</span><span style="left: 115.634px; top: 289.121px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.24409);"> Ìˆ</span><span style="left: 116.045px; top: 289.195px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.972492);">Ä±ve implementation, inner loops would become hot first, and</span><span style="left: 90px; top: 305.8px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.986415);">the VM would start tracing there. When the inner loop exits, the</span><span style="left: 90px; top: 322.404px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.948837);">VM would detect that a different branch was taken. The VM would</span><span style="left: 90px; top: 339.009px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.928932);">try to record a branch trace, and find that the trace reaches not the</span><span style="left: 90px; top: 355.613px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.962589);">inner loop header, but the outer loop header. At this point, the VM</span><span style="left: 90px; top: 372.217px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.942108);">could continue tracing until it reaches the inner loop header again,</span><span style="left: 90px; top: 388.822px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.986415);">thus tracing the outer loop inside a trace tree for the inner loop.</span><span style="left: 90px; top: 405.426px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.935473);">But this requires tracing a copy of the outer loop for every side exit</span><span style="left: 90px; top: 422.031px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.960269);">and type combination in the inner loop. In essence, this is a form</span><span style="left: 90px; top: 438.635px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.960269);">of unintended tail duplication, which can easily overflow the code</span><span style="left: 90px; top: 455.239px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.942108);">cache. Alternatively, the VM could simply stop tracing, and give up</span><span style="left: 90px; top: 471.844px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.928056);">on ever tracing outer loops.</span><span style="left: 109.925px; top: 488.448px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.97675);">We solve the nested loop problem by recording</span><span style="left: 413.837px; top: 488.598px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.921916);">nested trace</span><span style="left: 90px; top: 505.202px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.863582);">trees</span><span style="left: 118.497px; top: 505.053px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.901293);">. Our system traces the inner loop exactly as the na</span><span style="left: 419.111px; top: 504.978px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.24409);"> Ìˆ</span><span style="left: 419.522px; top: 505.053px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.944952);">Ä±ve version.</span><span style="left: 90px; top: 521.657px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.914018);">The system stops extending the inner tree when it reaches an outer</span><span style="left: 90px; top: 538.261px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.94434);">loop, but then it starts a new trace at the outer loop header. When</span><span style="left: 90px; top: 554.866px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.909844);">the outer loop reaches the inner loop header, the system tries to call</span><span style="left: 90px; top: 571.47px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.911926);">the trace tree for the inner loop. If the call succeeds, the VM records</span><span style="left: 90px; top: 588.075px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.00634);">the call to the inner tree as part of the outer trace and finishes</span><span style="left: 90px; top: 604.679px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.969615);">the outer trace as normal. In this way, our system can trace any</span><span style="left: 90px; top: 621.283px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.922481);">number of loops nested to any depth without causing excessive tail</span><span style="left: 90px; top: 637.888px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.972384);">duplication.</span><span style="left: 109.925px; top: 654.492px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.978233);">These techniques allow a VM to dynamically translate a pro-</span><span style="left: 90px; top: 671.097px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.939886);">gram to nested, type-specialized trace trees. Because traces can</span><span style="left: 90px; top: 687.701px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.931102);">cross function call boundaries, our techniques also achieve the ef-</span><span style="left: 90px; top: 704.305px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.926771);">fects of inlining. Because traces have no internal control-flow joins,</span><span style="left: 90px; top: 720.91px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.996279);">they can be optimized in linear time by a simple compiler (10).</span><span style="left: 90px; top: 737.514px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.00381);">Thus, our tracing VM efficiently performs the same kind of op-</span><span style="left: 90px; top: 754.119px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.964919);">timizations that would require interprocedural analysis in a static</span><span style="left: 90px; top: 770.723px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.935473);">optimization setting. This makes tracing an attractive and effective</span><span style="left: 90px; top: 787.327px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.939521);">tool to type specialize even complex function call-rich code.</span><span style="left: 109.925px; top: 803.932px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.918875);">We implemented these techniques for an existing JavaScript in-</span><span style="left: 90px; top: 820.536px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.975342);">terpreter, SpiderMonkey. We call the resulting tracing VM</span><span style="left: 449.711px; top: 820.686px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.923682);">Trace-</span><span style="left: 90px; top: 837.29px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.953061);">Monkey</span><span style="left: 136.7px; top: 837.141px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.94573);">. TraceMonkey supports all the JavaScript features of Spi-</span><span style="left: 90px; top: 853.745px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.935146);">derMonkey, with a 2x-20x speedup for traceable programs.</span><span style="left: 109.925px; top: 870.349px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.942496);">This paper makes the following contributions:</span><span style="left: 98.7172px; top: 900.57px; font-size: 13.2835px; font-family: monospace;">â€¢</span><span style="left: 111.586px; top: 901.898px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.942294);">We explain an algorithm for dynamically forming trace trees to</span><span style="left: 111.586px; top: 918.502px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.878596);">cover a program, representing nested loops as nested trace trees.</span><span style="left: 98.7172px; top: 940.421px; font-size: 13.2835px; font-family: monospace;">â€¢</span><span style="left: 111.586px; top: 941.748px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.918048);">We explain how to speculatively generate efficient type-specialized</span><span style="left: 111.586px; top: 958.353px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.915538);">code for traces from dynamic language programs.</span><span style="left: 98.7172px; top: 980.271px; font-size: 13.2835px; font-family: monospace;">â€¢</span><span style="left: 111.586px; top: 981.599px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.928368);">We validate our tracing techniques in an implementation based</span><span style="left: 111.586px; top: 998.203px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.961524);">on the SpiderMonkey JavaScript interpreter, achieving 2x-20x</span><span style="left: 111.586px; top: 1014.81px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.892808);">speedups on many programs.</span><span style="left: 109.925px; top: 1046.36px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.912232);">The remainder of this paper is organized as follows. Section 3 is</span><span style="left: 90px; top: 1062.96px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.937674);">a general overview of trace tree based compilation we use to cap-</span><span style="left: 90px; top: 1079.56px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.97198);">ture and compile frequently executed code regions. In Section 4</span><span style="left: 90px; top: 1096.17px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.948837);">we describe our approach of covering nested loops using a num-</span><span style="left: 90px; top: 1112.77px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.976744);">ber of individual trace trees. In Section 5 we describe our trace-</span><span style="left: 90px; top: 1129.38px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.91823);">compilation based speculative type specialization approach we use</span><span style="left: 90px; top: 1145.98px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.924621);">to generate efficient machine code from recorded bytecode traces.</span><span style="left: 90px; top: 1162.59px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.976744);">Our implementation of a dynamic type-specializing compiler for</span><span style="left: 90px; top: 1179.19px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.937674);">JavaScript is described in Section 6. Related work is discussed in</span><span style="left: 90px; top: 1195.8px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.91823);">Section 8. In Section 7 we evaluate our dynamic compiler based on</span><span style="left: 528.356px; top: 121.247px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">1 for (var i = 2; i &lt; 100; ++i) {</span><span style="left: 528.356px; top: 137.851px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">2   if (!primes[i])</span><span style="left: 528.356px; top: 154.456px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">3     continue;</span><span style="left: 528.356px; top: 171.06px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">4   for (var k = i + i; i &lt; 100; k += i)</span><span style="left: 528.356px; top: 187.664px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">5     primes[k] = false;</span><span style="left: 528.356px; top: 204.269px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">6 }</span><span style="left: 528.356px; top: 240.085px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.01938);">Figure 1. Sample program: sieve of Eratosthenes.</span><span style="left: 863.72px; top: 241.265px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">primes</span><span style="left: 916.894px; top: 240.264px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.90615);">is</span><span style="left: 528.356px; top: 256.868px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.00821);">initialized to an array of 100</span><span style="left: 711.081px; top: 257.87px; font-size: 14.944px; font-family: monospace; transform: scaleX(0.9807);">false</span><span style="left: 755.585px; top: 256.868px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.967645);">values on entry to this code</span><span style="left: 528.356px; top: 273.473px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.919789);">snippet.</span><span style="left: 675.67px; top: 353.54px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.998518);">Interpret</span><span style="left: 673.028px; top: 363.592px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.893999);">Bytecodes</span><span style="left: 677.353px; top: 430.369px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(1.05292);">Monitor</span><span style="left: 562.698px; top: 457.655px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.98945);">Record</span><span style="left: 558.861px; top: 467.707px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.877915);">LIR </span><span style="left: 574.512px; top: 467.707px; font-size: 8.6164px; font-family: sans-serif;">T</span><span style="left: 579.46px; top: 467.707px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.93105);">race</span><span style="left: 788.993px; top: 523.714px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.971879);">Execute</span><span style="left: 775.343px; top: 533.766px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.923391);">Compiled </span><span style="left: 813.982px; top: 533.766px; font-size: 8.6164px; font-family: sans-serif;">T</span><span style="left: 818.93px; top: 533.766px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.93105);">race</span><span style="left: 794.505px; top: 457.655px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(1.00107);">Enter</span><span style="left: 775.343px; top: 467.707px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.923391);">Compiled </span><span style="left: 813.982px; top: 467.707px; font-size: 8.6164px; font-family: sans-serif;">T</span><span style="left: 818.93px; top: 467.707px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.93105);">race</span><span style="left: 560.546px; top: 523.714px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.999756);">Compile</span><span style="left: 558.861px; top: 533.766px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.877915);">LIR </span><span style="left: 574.512px; top: 533.766px; font-size: 8.6164px; font-family: sans-serif;">T</span><span style="left: 579.46px; top: 533.766px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.93105);">race</span><span style="left: 793.301px; top: 589.773px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.939519);">Leave</span><span style="left: 775.343px; top: 599.825px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.923391);">Compiled </span><span style="left: 813.982px; top: 599.825px; font-size: 8.6164px; font-family: sans-serif;">T</span><span style="left: 818.93px; top: 599.825px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.93105);">race</span><span style="left: 670.639px; top: 386.569px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.934018);">loop </span><span style="left: 669.2px; top: 396.622px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.958144);">edge</span><span style="left: 639.766px; top: 452.629px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.921292);">hot</span><span style="left: 629.708px; top: 462.681px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.916785);">loop/exit</span><span style="left: 558.746px; top: 426.779px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.918006);">abort </span><span style="left: 550.605px; top: 436.832px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.945083);">recording</span><span style="left: 589.261px; top: 484.94px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.718033);">fi</span><span style="left: 593.57px; top: 484.94px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.896106);">nish at </span><span style="left: 581.352px; top: 494.992px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.947984);">loop header</span><span style="left: 735.733px; top: 395.186px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.9128);">cold/blacklisted</span><span style="left: 748.902px; top: 405.238px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.916785);">loop/exit</span><span style="left: 740.522px; top: 430.369px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.9128);">compiled trace </span><span style="left: 757.762px; top: 440.422px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.897901);">ready</span><span style="left: 708.442px; top: 493.197px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.93474);">loop edge with </span><span style="left: 714.198px; top: 503.25px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.881113);">same types</span><span style="left: 864.265px; top: 571.822px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.889423);">side exit to </span><span style="left: 859.478px; top: 581.875px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.906415);">existing trace</span><span style="left: 712.404px; top: 568.232px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.894745);">side exit,</span><span style="left: 698.034px; top: 578.284px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.909218);">no existing trace</span><span style="left: 845.117px; top: 360.72px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.922795);">Overhead</span><span style="left: 842.243px; top: 382.261px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.927271);">Interpreting</span><span style="left: 851.825px; top: 403.084px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.872103);">Native</span><span style="left: 841.53px; top: 342.051px; font-size: 8.6164px; font-family: sans-serif; transform: scaleX(0.948467);">Symbol Key</span><span style="left: 528.356px; top: 654.159px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.01645);">Figure 2.</span><span style="left: 593.773px; top: 654.338px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.946269);">State machine describing the major activities of Trace-</span><span style="left: 528.356px; top: 670.942px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.967261);">Monkey and the conditions that cause transitions to a new activ-</span><span style="left: 528.356px; top: 687.547px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.00129);">ity. In the dark box, TM executes JS as compiled traces. In the</span><span style="left: 528.356px; top: 704.151px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.931102);">light gray boxes, TM executes JS in the standard interpreter. White</span><span style="left: 528.356px; top: 720.756px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.94434);">boxes are overhead. Thus, to maximize performance, we need to</span><span style="left: 528.356px; top: 737.36px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.924621);">maximize time spent in the darkest box and minimize time spent in</span><span style="left: 528.356px; top: 753.964px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.909844);">the white boxes. The best case is a loop where the types at the loop</span><span style="left: 528.356px; top: 770.569px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.911926);">edge are the same as the types on entryâ€“then TM can stay in native</span><span style="left: 528.356px; top: 787.173px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.941211);">code until the loop is done.</span><span style="left: 528.356px; top: 834.666px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.937674);">a set of industry benchmarks. The paper ends with conclusions in</span><span style="left: 528.356px; top: 851.27px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.924621);">Section 9 and an outlook on future work is presented in Section 10.</span><span style="left: 528.356px; top: 887.804px; font-size: 18.2648px; font-family: sans-serif; transform: scaleX(1.03024);">2.  Overview: Example Tracing Run</span><span style="left: 528.356px; top: 913.521px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.991323);">This section provides an overview of our system by describing</span><span style="left: 528.356px; top: 930.125px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.97198);">how TraceMonkey executes an example program. The example</span><span style="left: 528.356px; top: 946.73px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.91823);">program, shown in Figure 1, computes the first 100 prime numbers</span><span style="left: 528.356px; top: 963.334px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.914018);">with nested loops. The narrative should be read along with Figure 2,</span><span style="left: 528.356px; top: 979.939px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.946583);">which describes the activities TraceMonkey performs and when it</span><span style="left: 528.356px; top: 996.543px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.920488);">transitions between the loops.</span><span style="left: 548.281px; top: 1013.15px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.960854);">TraceMonkey always begins executing a program in the byte-</span><span style="left: 528.356px; top: 1029.75px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.974356);">code interpreter. Every loop back edge is a potential trace point.</span><span style="left: 528.356px; top: 1046.36px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.957961);">When the interpreter crosses a loop edge, TraceMonkey invokes</span><span style="left: 528.356px; top: 1062.96px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.913078);">the</span><span style="left: 550.931px; top: 1063.11px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.955026);">trace monitor</span><span style="left: 633.056px; top: 1062.96px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.938655);">, which may decide to record or execute a native</span><span style="left: 528.356px; top: 1079.56px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.91823);">trace. At the start of execution, there are no compiled traces yet, so</span><span style="left: 528.356px; top: 1096.17px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.895532);">the trace monitor counts the number of times each loop back edge is</span><span style="left: 528.356px; top: 1112.77px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.90726);">executed until a loop becomes</span><span style="left: 710.371px; top: 1112.92px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.954922);">hot</span><span style="left: 729.47px; top: 1112.77px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.918118);">, currently after 2 crossings. Note</span><span style="left: 528.356px; top: 1129.38px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.90161);">that the way our loops are compiled, the loop edge is crossed before</span><span style="left: 528.356px; top: 1145.98px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.924621);">entering the loop, so the second crossing occurs immediately after</span><span style="left: 528.356px; top: 1162.59px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.958232);">the first iteration.</span><span style="left: 548.281px; top: 1179.19px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(1.00954);">Here is the sequence of events broken down by outer loop</span><span style="left: 528.356px; top: 1195.8px; font-size: 14.944px; font-family: sans-serif; transform: scaleX(0.981142);">iteration:</span><div class="endOfContent"></div></div></div><div class="page" data-page-number="3" style="width: 1019px; height: 1319px;"><div class="loadingIcon"></div></div><div class="page" data-page-number="4" style="width: 1019px; height: 1319px;"><div class="loadingIcon"></div></div><div class="page" data-page-number="5" style="width: 1019px; height: 1319px;"><div class="loadingIcon"></div></div><div class="page" data-page-number="6" style="width: 1019px; height: 1319px;"><div class="loadingIcon"></div></div><div class="page" data-page-number="7" style="width: 1019px; height: 1319px;"><div class="loadingIcon"></div></div><div class="page" data-page-number="8" style="width: 1019px; height: 1319px;"><div class="loadingIcon"></div></div><div class="page" data-page-number="9" style="width: 1019px; height: 1319px;"><div class="loadingIcon"></div></div><div class="page" data-page-number="10" style="width: 1019px; height: 1319px;"><div class="loadingIcon"></div></div><div class="page" data-page-number="11" style="width: 1019px; height: 1319px;"><div class="loadingIcon"></div></div><div class="page" data-page-number="12" style="width: 1019px; height: 1319px;"><div class="loadingIcon"></div></div><div class="page" data-page-number="13" style="width: 1019px; height: 1319px;"><div class="loadingIcon"></div></div><div class="page" data-page-number="14" style="width: 1019px; height: 1319px;"><div class="loadingIcon"></div></div></div>
        </div>

        <div id="errorWrapper" hidden="true">
          <div id="errorMessageLeft">
            <span id="errorMessage"></span>
            <button id="errorShowMore" data-l10n-id="error_more_info">More Information</button>
            <button id="errorShowLess" data-l10n-id="error_less_info" hidden="true">Less Information</button>
          </div>
          <div id="errorMessageRight">
            <button id="errorClose" data-l10n-id="error_close">Close</button>
          </div>
          <div class="clearBoth"></div>
          <textarea id="errorMoreInfo" hidden="true" readonly="readonly"></textarea>
        </div>
      </div> <!-- mainContainer -->

      <div id="overlayContainer" class="hidden">
        <div id="passwordOverlay" class="container hidden">
          <div class="dialog">
            <div class="row">
              <p id="passwordText" data-l10n-id="password_label">Enter the password to open this PDF file.</p>
            </div>
            <div class="row">
              <input type="password" id="password" class="toolbarField">
            </div>
            <div class="buttonRow">
              <button id="passwordCancel" class="overlayButton"><span data-l10n-id="password_cancel">Cancel</span></button>
              <button id="passwordSubmit" class="overlayButton"><span data-l10n-id="password_ok">OK</span></button>
            </div>
          </div>
        </div>
        <div id="documentPropertiesOverlay" class="container hidden">
          <div class="dialog">
            <div class="row">
              <span data-l10n-id="document_properties_file_name">File name:</span> <p id="fileNameField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_file_size">File size:</span> <p id="fileSizeField">-</p>
            </div>
            <div class="separator"></div>
            <div class="row">
              <span data-l10n-id="document_properties_title">Title:</span> <p id="titleField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_author">Author:</span> <p id="authorField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_subject">Subject:</span> <p id="subjectField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_keywords">Keywords:</span> <p id="keywordsField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_creation_date">Creation Date:</span> <p id="creationDateField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_modification_date">Modification Date:</span> <p id="modificationDateField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_creator">Creator:</span> <p id="creatorField">-</p>
            </div>
            <div class="separator"></div>
            <div class="row">
              <span data-l10n-id="document_properties_producer">PDF Producer:</span> <p id="producerField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_version">PDF Version:</span> <p id="versionField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_page_count">Page Count:</span> <p id="pageCountField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_page_size">Page Size:</span> <p id="pageSizeField">-</p>
            </div>
            <div class="separator"></div>
            <div class="row">
              <span data-l10n-id="document_properties_linearized">Fast Web View:</span> <p id="linearizedField">-</p>
            </div>
            <div class="buttonRow">
              <button id="documentPropertiesClose" class="overlayButton"><span data-l10n-id="document_properties_close">Close</span></button>
            </div>
          </div>
        </div>
        <div id="printServiceOverlay" class="container hidden">
          <div class="dialog">
            <div class="row">
              <span data-l10n-id="print_progress_message">Preparing document for printingâ€¦</span>
            </div>
            <div class="row">
              <progress value="0" max="100"></progress>
              <span data-l10n-id="print_progress_percent" data-l10n-args="{ &quot;progress&quot;: 0 }" class="relative-progress">0%</span>
            </div>
            <div class="buttonRow">
              <button id="printCancel" class="overlayButton"><span data-l10n-id="print_progress_close">Cancel</span></button>
            </div>
          </div>
        </div>
      </div>  <!-- overlayContainer -->

    </div> <!-- outerContainer -->
    <div id="printContainer"></div>
  


<input id="fileInput" class="fileInput" type="file">
    <div id="recorder_overlay" style="position: fixed; width: 100%; height: 100%; top: 0; display: none; left: 0; right: 0; bottom: 0; background-color: rgba(0,0,0,0.5); z-index: 9999999; cursor: pointer; " onclick="this.style.display=&#39;none&#39;"></div>
<span style="margin: 0px auto; border: 2px dotted rgb(0, 0, 0); position: absolute; z-index: 2147483647; visibility: hidden; left: 190px; width: 0px; top: 97px; height: 0px;"></span><span style="z-index: 2147483647; position: absolute; visibility: hidden; left: 175px; width: 50px; top: 82px; height: 20px; font-size: 10px; color: black;"></span></body></html>